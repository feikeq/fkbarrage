/*! FKbarrage v1.1 | FeikeWrold | www.fk68.net */
(function($){$.fn.fkbarrage=function(options){var $this=this;var settings=$.extend({height:20,spacing:4,style:'',noevent:1,speed:5000},options);var showList={};var myfunction={pusshtxt:function(txt,style){var fontSize=settings.height*0.8;var box_w=$this.width();var box_h=$this.height();var now_w=box_w;var now_h=settings.height;var now_n=parseInt(now_w/settings.spacing);var counts=parseInt(box_h/now_h);var now_id=new Date().getTime();var now_lg=txt.length*fontSize;var stepnum=parseInt((0.5/499)*now_lg*settings.speed+(249/499)*settings.speed);var now_wb=box_w-now_lg;var box_t=0;for(var i=1;i<=counts;i++){if(!showList[i]){showList[i]=now_id;box_t=i*now_h-now_h;break}};var cssevent='pointer-events:none;';if(!settings.noevent)cssevent='';var divhtm='<div id="now_'+now_id+'" style="position: absolute; overflow: hidden;white-space:nowrap; '+cssevent+' z-index: 9999;left: 0;';divhtm+='width: '+now_w+'px; height: '+now_h+'px;top: '+box_t+'px; line-height: '+settings.height+'px;'+settings.style+'">';divhtm+='<span id='+now_id+' style="padding: 0; margin-left:'+now_w+'px;'+style+'">'+txt+'</span></div>';$this.append(divhtm);$('#now_'+now_id+' span').animate({marginLeft:-now_lg},{duration:stepnum,step:function(now,fx){if(now<(now_wb-now_n)){if(showList[i]==this.id){delete showList[i]}}},done:function(animation,jumpedToEnd){$(this).parent().remove()}})},stoptxt:function(e){console.log('废客联邦')},hidetxt:function(e){console.log('http://www.fk68.net')}};return myfunction}})(jQuery);
